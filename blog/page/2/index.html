
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Duff Qiu's Blog</title>
  <meta name="author" content="Duff Qiu">

<link href='/assets/global-e81887ade2ffa49a44ecde8744d01c23.css' rel='stylesheet' type='text/css' />


<script src='/assets/global-3be11d01c576919bb0be36d59a372a9e.js' type='text/javascript'></script>


  
  <meta name="description" content="在blog中插入Octopress代码块的问题 Octopress的说明文档中有多种插入代码块的方式，但是当初入markdown代码的时候就出现问题，尝试了多种方式后无果，最后查看别人的blog的源码发现使用 1
2
3
4
5
{% raw %} # 必须有空行 #代码块 # 必须有空行
{% &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://duffqiu.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
<!--
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css"> -->
  <link href="/atom.xml" rel="alternate" title="Duff Qiu's Blog" type="application/atom+xml">
  <!-- <script src="/javascripts/modernizr-2.0.js"></script> -->
  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
  <!-- <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script> -->
  <!-- <script src="/javascripts/octopress.js" type="text/javascript"></script> -->
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='/assets/global-e81887ade2ffa49a44ecde8744d01c23.css' rel='stylesheet' type='text/css' />


<script src='/assets/global-3be11d01c576919bb0be36d59a372a9e.js' type='text/javascript'></script>


<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47478128-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Duff Qiu's Blog</a></h1>
  
    <h2>Duff Qiu的个人博客，只为记录一个过程，结果都是浮云☁️！</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:duffqiu.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/27/octopresscha-ru-dai-ma-kuai-de-wen-ti/">Octopress插入代码块的问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-27T18:20:21+08:00" pubdate data-updated="true">Jan 27<span>th</span>, 2014</time>
        
        
           | <a href="/blog/2014/01/27/octopresscha-ru-dai-ma-kuai-de-wen-ti/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h4 id="blogoctopress">在blog中插入Octopress代码块的问题</h4>

<p>Octopress的说明文档中有多种插入代码块的方式，但是当初入markdown代码的时候就出现问题，尝试了多种方式后无果，最后查看别人的blog的源码发现使用</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="sh"><span class="line"><span class="o">{</span>% raw %<span class="o">}</span>
</span><span class="line">   <span class="c"># 必须有空行</span>
</span><span class="line">   <span class="c">#代码块  </span>
</span><span class="line">   <span class="c"># 必须有空行</span>
</span><span class="line"><span class="o">{</span>% endraw %<span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>的方式将代码块再扩起来解决的。</p>

<p>如果有序列(如1., 2…)，则需要缩进代码快和raw..endraw指令</p>

<p>出个小题，这里是怎么写出raw…endraw的?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/26/kai-shi-xie-di-%5B%3F%5D-pian-blog/">开始写第一篇blog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-26T23:36:24+08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2014</time>
        
        
           | <a href="/blog/2014/01/26/kai-shi-xie-di-%5B%3F%5D-pian-blog/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h4 id="section">要简单，你必须有利器</h4>
<p>要简单用好Octepress，首先要看看markdown语法（链接我前面有提到），基本很简单，半个小时就能看懂，剩下实操就可。</p>

<p>然后就是需要有个工具，下载了个<a href="http://moustand.com">Mou</a>，完全免费，到目前为止感觉很好用</p>

<h4 id="blog">开始写第一篇blog</h4>
<p>首先通过命令生成第一篇文章</p>

<pre><code> rake new_post\["&lt;文章标题&gt;"\] #&lt;文章标题&gt;替换成你的文章标题，可以是中文，最后生成的文件名自动转为拼音，这里用\是使用zsh shell自动生成的
</code></pre>

<p>然后通过mou打开生成好的文件用markdown语法进行编辑 
当你第一次打开文件的时候，你会发现这个文件有文件头     </p>

<p><img class="left" src="/images/Snip20140126_1.png" width="400" height="1000" title="Head of post" alt="headfile" />          </p>

<p>注意几个内容：   </p>

<ul>
  <li>如果不需要comments，可以设置为false。后面有介绍如何配置comments </li>
  <li>为分类写分类名，后面会将如何配置分类的plugin。这个例子我用了Octopress做分类名 </li>
</ul>

<p>然后就是按照markdown的方式写内容了。 
写完了以后，则需要运行以下命令进行部署 </p>

<pre><code>rake generate
rake deploy
</code></pre>

<p>以后就是重复上面的步骤就可以。</p>

<h4 id="octopress">配置Octopress，更本地化</h4>

<h5 id="about-me">用微博配置About me</h5>

<p>通常在主页的侧边栏说明一下自己是谁，最简单的方式或许是直接连接自己的微博。具体步骤如下</p>

<ol>
  <li>
    <p>激活About me。</p>

    <p>Octopress已经准备了一个aboutme的侧边栏文件，在对应的Octopresss目录的/source/_includes/custom/asides子目录下的about.html文件
编辑octopress的配置文件_config.yml，修改default_asides项，增加内容:</p>

    <pre><code>custom/asides/about.html
</code></pre>
  </li>
  <li>
    <p>加入微博内容</p>

    <p>微博的插入代码可以到<a href="http://app.weibo.com/tool/weiboshow?sudaref=open.weibo.com" title="微博秀">微博的开放平台</a>获取（不要copy搜索出来，很可能旧了）</p>

    <p>然后将代码放入到about.html文件
 如我的about.html文件内容</p>
  </li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="text"><span class="line">    &lt;section&gt;
</span><span class="line">     &lt;h1&gt;About Me&lt;/h1&gt;
</span><span class="line">     &lt;iframe width=&quot;100%&quot; height=&quot;550&quot; class=&quot;share_self&quot;  frameborder=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=550&amp;fansRow=2&amp;ptype=1&amp;speed=300&amp;skin=1&amp;isTitle=0&amp;noborder=0&amp;isWeibo=1&amp;isFans=0&amp;uid=1872168377&amp;verifier=1cd3a528&amp;dpc=1&quot;&gt;&lt;/iframe&gt;
</span><span class="line">    &lt;/section&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div>

<ol>
  <li>
    <p>重修部署</p>

    <pre><code>rake generate
rake deploy
</code></pre>
  </li>
</ol>

<p>这个时候主页和每个页面都会出现你的微博了。如果只想出现在主页上，后面介绍如何配置post页的配置，配置完后就只有主页出现了。</p>

<h5 id="comment">配置comment</h5>
<p>octopress已经集成了<a href="http://www.disqus.com disqus官网">disqus</a>系统，据说不是太好用，没有去试，只是感觉纯老外的东西，被中国用的很少，所以试着配置国内的<a href="http://dev.duoshuo.com 多说官网">多说</a></p>

<ol>
  <li>
    <p>用微博／百度账户开通多说，并配置一个应用指向你的blog，获得这个应用的short name</p>
  </li>
  <li>
    <p>在octopress的配置文件中增加以下内容 </p>

    <pre><code> #duoshuo comments
 duoshuo_comments: true
 duoshuo_short_name: &lt;你的多说的应用名&gt;  
</code></pre>
  </li>
  <li>
    <p>修改source/_includes/article.html文件，在disqus配置后面 </p>

    <pre><code>{% if site.disqus_short_name and page.comments != false and post.comments != false and site.disqus_show_comment_count == true %}
 | &lt;a href="{% if index %}{{ root_url }}{{ post.url }}{% endif %}#disqus_thread"
 data-disqus-identifier="{% if post.meta.disqus_id %}{{ post.meta.disqus_id }}{% else %}{{ site.url }}{{ post.url }}
 {% endif %}"&gt;Comments&lt;/a&gt; 
 {% endif %}
</code></pre>

    <p>增加多说的配置 </p>

    <pre><code> {% if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}
 | &lt;a href="{% if index %}{{ root_url }}{{ post.url }}{% endif %}#comments"&gt;Comments&lt;/a&gt;
 {% endif %}
</code></pre>
  </li>
  <li>
    <p>在source/_includes/post/目录里面增加一个duoshuo.html模块文件，然后从多说的应用对应的工具里面获取通用代码(不要用网上搜索到的代码)放入这个文件中 </p>
  </li>
  <li>
    <p>在source/_layouts/post.html 中的 disqus代码下</p>

    <pre><code> {% if site.disqus_short_name and page.comments == true %}
   &lt;section&gt;
     &lt;h1&gt;Comments&lt;/h1&gt;
     &lt;div id="disqus_thread" aria-live="polite"&gt;{% include post/disqus_thread.html %}&lt;/div&gt;
   &lt;/section&gt;
 {% endif %}    
</code></pre>

    <p>增加多说模块</p>

    <pre><code> {% if site.duoshuo_short_name and site.duoshuo_comments == true and page.comments == true %}
   &lt;section&gt;
     &lt;h1&gt;Comments&lt;/h1&gt;
     &lt;div id="comments" aria-live="polite"&gt;{% include post/duoshuo.html %}&lt;/div&gt;
   &lt;/section&gt;
 {% endif %}        
</code></pre>
  </li>
  <li>
    <p>取消disqus</p>

    <p>编辑_config.yml文件，将配置项disqus_show_comment_count设置为false就可以</p>
  </li>
  <li>
    <p>然后就是重新部署</p>

    <pre><code> rake generate
 rake deploy
</code></pre>
  </li>
</ol>

<p><strong>到目前为止，一个octopress在github上的配置就基本完成了</strong>
Octopress还有不少功能，后面用到再补充了</p>

<h4 id="blog-1">监控你的blog</h4>
<p>最简单的方法是使用<a href="https://www.google.com/analytics/">google analytics</a>，octopress已经集成了它，需要做的事情是</p>

<ol>
  <li>先在google analytics上开设一个web的app，获得tracking_id</li>
  <li>然后修改_config.yml，找到google_analytics_tracking_id，填上你的tracking_id。</li>
  <li>重新部署就可以了</li>
</ol>

<p>注意： _config.yml文件的配置要每个选项”:”后面需要有一个空格</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/25/octopresszai-githubshang-jian-blogde-zhun-bei-gong-zuo/">Octopress在github上建blog的准备工作</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-25T23:03:42+08:00" pubdate data-updated="true">Jan 25<span>th</span>, 2014</time>
        
        
           | <a href="/blog/2014/01/25/octopresszai-githubshang-jian-blogde-zhun-bei-gong-zuo/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3 id="section">需要一堆的软件</h3>
<p>我都是在Mac上安装的，windows真的没有兴趣再试多一次了</p>

<h4 id="mac">Mac系统的准备工作</h4>
<p>这个部分或许和安装<a href="http://octopress.org" title="Octopress官网">Octopress</a>没什么关系，但是用Mac系统的话最好都装上，通常都用的上</p>

<ul>
  <li>
    <p>安装<a href="http://www.macports.org/index.php">MacPorts</a>，官网有比较详细的介绍，可以下pkg安装；也可以源文件安装，但是前提是必须安装xcode的command line工具，运行一下命令安装。</p>

    <pre><code> sudo xcode-select --install
</code></pre>

    <p>之前也是用pkg方式安装的，但是用</p>

    <pre><code>  sudo port -v selfupgrad
</code></pre>

    <p>的时候出现了错误，所以还是安装上xcode的command line工具就好了，好像是OSX Mavericks版本才有？这个问题是通过stackover上的帖子<a href="http://stackoverflow.com/questions/19622337/cant-update-macports-with-mac-os-x-mavericks">cant-update-macports-with-mac-os-x-mavericks</a>的解答获得的。port工具可以帮助安装所需要软件以及其依赖的软件，省去了很多找软件的麻烦，另外一个和macports差不多的软件管理工具是<a href="http://brew.sh" title="Brew官网">HomeBrew</a></p>
  </li>
  <li>安装<a href="http://git-scm.com/">Git</a>工具，如何使用Git还是看官方文档吧，这里就不讲了</li>
  <li>
    <p>安装ruby，OSX已经自带了</p>
  </li>
  <li>
    <p>用MacPorts安装rbenv</p>

    <pre><code>  sudo port install rbenv 安装octopress需要，但是具体什么用没有细研究
</code></pre>
  </li>
  <li>配置zsh shell，建议用zsh shell，具体如何配置可以参考Mactalk，如果后面讲书的内容写到blog里，是否有侵权？</li>
</ul>

<h4 id="octopress">获取Octopress并安装相应的包</h4>
<ol>
  <li>在机器上建立一个本地的git repo，并进入这个目录</li>
  <li>
    <p>获取Octopress源码</p>

    <pre><code>git clone git://github.com/imathis/octopress.git octopress
</code></pre>
  </li>
  <li>
    <p>安装依赖工具</p>

    <pre><code>cd octopress
gem install bundler
rbenv rehash #还是不太明白这个具体做什么用
bundle install
</code></pre>
  </li>
  <li>
    <p>安装Octopress默认的Theme</p>

    <pre><code>rake install
</code></pre>
  </li>
</ol>

<h4 id="github">配置Github</h4>
<p>生成一个名为<your github="" name="">.github.io的repository，注意这里<your github="" name="">是你的github的账户名，要用.io不是.com</your></your></p>

<h4 id="octopressgithub">初始化octopress并部署到Github</h4>
<ol>
  <li>
    <p>关联octopress和github</p>

    <pre><code>rake setup_github_pages 根据提示输入&lt;your github name&gt;.github.io的repository对应的地址
</code></pre>
  </li>
  <li>
    <p>部署octpress到Github</p>

    <pre><code>rake generate #生成静态文件
rake deploy #部署静态文件到github
</code></pre>
  </li>
  <li>
    <p>Push原文件到Github的source branch上，如果不做这步，github将只有生成好的文件</p>

    <pre><code>git add .
git commit -m &lt;'your message'&gt;
git push origin source
</code></pre>
  </li>
</ol>

<p>到这一步，基本上就将Octopress基本配置好了，后面将讲讲如何写blogger和配置Octopress</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/25/first-time-to-setup-octopress-in-github/">First Time to Setup Octopress in Github</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-25T16:33:01+08:00" pubdate data-updated="true">Jan 25<span>th</span>, 2014</time>
        
        
           | <a href="/blog/2014/01/25/first-time-to-setup-octopress-in-github/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3 id="section">为什么要建这个博客呢？</h3>
<p>最近小孩放假在家，总爱写些短文，但是写完了就没了，所以想想是不是建个blog来记录一下。前两天看见<a href="http://weibo.com/acette" title="Leo's Weibo">Leo</a>同学在Github上用<a href="http://www.octopress.org" title="Octopress">Octopress</a>开的blog看得挺简单，直接用接近文本的<a href="http://wowubuntu.com/markdown/" title="markdown中文">markdown</a>语法写，所以今天下午baidu＋google的方式在自己的<a href="http://github.com/duffqiu" title="Duff's Github">Github</a>上试验一下，然后再打算给小孩开一个。</p>

<p>谁知道弄了一半才发现果然是只能给程序猿的东东，每次建个post都要用命令生成静态代码，然后再部署。。。这些果然不是一般人能用的。就如同它号称的“给黑客的blog框架”</p>

<p>另外从学习安装、试用的过程看，octopress真的不太适合用windows的童鞋，最好是用Apple Mac，简单很多。这两天刚看完<a href="http://www.amazon.cn/MacTalk·人生元编程-池建强-著/dp/B00FF5G3GK/ref=sr_1_1?ie=UTF8&amp;qid=1390661141&amp;sr=8-1&amp;keywords=mactalk">Mactalk</a>，感觉真的是不错，后面再来补这个的学习笔记，这也是我买的第一本收费的电子书，尽管只有¥2.99。</p>

<p>建议有Mac的童鞋都读读，里面提到了不少工具的用法。</p>

<p>不过弄完了一个下午，只有一个结论，那就是不适合小孩用，看来还要再花时间给小孩找个合适的，难道是个机会？儿童blog平台？只有iPad／android版就可以了，无需电脑版。</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/01/port-tips-ruan-jian-ban-ben-xuan-ze/">Port Tips: 软件版本选择</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/01/jia-su-octopressde-zhuang-zai/">加速Octopress的装载</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/01/octopresstong-zhi-sou-suo-yin-qing/">Octopress通知搜索引擎</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/30/octopress-gemcha-jian-gslan-zhuang/">Octopress Gem插件gsl安装</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/30/octopressde-nei-bu-blogjian-guan-lian/">Octopress的内部blog间关联</a>
      </li>
    
  </ul>
</section>




<section>
     <h1>About Me</h1>
     <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=300&skin=1&isTitle=0&noborder=0&isWeibo=1&isFans=0&uid=1872168377&verifier=1cd3a528&dpc=1"></iframe>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Duff Qiu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  












</body>
</html>
